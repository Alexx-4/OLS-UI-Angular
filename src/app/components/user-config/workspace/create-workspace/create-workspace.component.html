<div class="jumbtron">
  <div>
    <h2 class="mb-5" style="color:blue; margin-left: 1cm;"><b>Create Workspace</b></h2>
  </div>
  <!-- {{WorkspaceForm.value | json}} -->
      <div class="login-box">
        <form [formGroup]="WorkspaceForm">
          <div class="user-box">
            <input [ngClass]="(getAtrr('name')?.invalid &&
            getAtrr('name')?.touched) ? 'textBoxError' : 'textBox'" type="text" name="" required="" formControlName="name">
            <p>Workspace Name</p>
            <small *ngIf="getAtrr('name')?.hasError('required') &&
                          getAtrr('name')?.touched"
                          class="error" >This field is required</small>

            <small *ngIf="getAtrr('name')?.hasError('invalidName') &&
                          getAtrr('name')?.touched"
                          class="error" >Name already taken</small>
          </div>


          <div class="user-box">
            <p *ngIf="!getAtrr('layers')?.value.length">Choose one or multiple Layers</p>
            <mat-form-field appearance="fill" class="select-box">
              <mat-label *ngIf="getAtrr('layers')?.value.length" style="color: #3461c2;">Layers</mat-label>
              <mat-select multiple formControlName="layers">
                <mat-option *ngFor="let layer of this.layers" [value]="layer.name">

                    {{layer.name}}

                </mat-option>
              </mat-select>
            </mat-form-field>
            <small *ngIf="getAtrr('layers')?.invalid &&
                          getAtrr('layers')?.touched"
                          class="error-select" >This field is required</small>
          </div>


          <div class="user-box">
            <p *ngIf="!getAtrr('functions')?.value.length">Choose one or multiple Functions</p>
            <mat-form-field appearance="fill" class="select-box">
              <mat-label *ngIf="getAtrr('functions')?.value.length" style="color: #3461c2;">Functions</mat-label>
              <mat-select multiple formControlName="functions">
                <mat-option *ngFor="let function of this.functions" [value]="function.name">

                    {{function.name}}

                </mat-option>
              </mat-select>
            </mat-form-field>
            <small *ngIf="getAtrr('functions')?.invalid &&
                          getAtrr('functions')?.touched"
                          class="error-select" >This field is required</small>
          </div>


        <div class="expcvv">
          <button type="submit" class="button1 btn btn-success btn-lg btn-block" (click)="saveWorkspace()" [disabled]="WorkspaceForm.invalid">
            <div *ngIf="workspaceId === 0">Create Workspace</div>
            <div *ngIf="workspaceId !== 0">Edit Workspace</div>
          </button>
          <button type="submit" class="button1 btn btn-success btn-lg btn-block" (click)="goWorkspacesList()">Cancel</button>
        </div>

        </form>
  </div>

</div>
